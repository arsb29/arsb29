addItem=(t,e,o,n,i)=>{let s="";for(let t=0;t<o.length;t++)s+=`<div class="flip__label">${o[t]}</div>`;return`<div class="works-page__flip flip _anim-items _anim-no-hide">\n\t\t<div class="flip__body">\n\t\t\t<div class="flip__front ${i}">\n\t\t\t\t<div class="flip__title">${t}</div>\n\t\t\t\t<div class="flip__description">${e}</div>\n\t\t\t\t<div class="flip__labels">\n\t\t\t\t\t${s}\n\t\t\t\t</div >\n\t\t\t</div >\n\t<div class="flip__back">\n\t\t<a href=${n} target="_blank"\n\t\t\tclass="flip__watch">Смотреть</a>\n\t\t<a class="flip__price popup-link" href="#popup">Прайс-лист</a>\n\t</div>\n\t\t</div >\n\t</div > `};const projects=[{title:"Мобильные приложения",undertitle:"Компания Артмастер",tags:["html","css","js"],link:"https://arsb29.github.io/artmaster2/"},{title:"Лендинг для бизнес компании",undertitle:"Адаптивная версия",tags:["html","css","js"],link:"https://arsb29.github.io/business/"},{title:"Бренд одежды",undertitle:"Женская одежда Zeri",tags:["html","css","js"],link:"https://arsb29.github.io/zeri/"},{title:"Конференция по макроэкономике",undertitle:"Университет СПбГЭУ",tags:["html","css","js"],link:"https://arsb29.github.io/unemployment/"},{title:"Питер, доступный каждому",undertitle:"Некоммерческий проект",tags:["html","css","js"],link:"https://arsb29.github.io/wheretowalk/"},{title:"В разработке",undertitle:"Некоммерческий проект",tags:["html","css","js"],link:"#"}];let colorOfCard;console.log(projects.length);let insertProjects='<div class="works-page__column">';for(let t=0;t<projects.length;t++)colorOfCard=0==t||3==t||4==t?"bg_blue":"bg_red",insertProjects+=4==t||2==t?'<div class="works-page__column">'+addItem(projects[t].title,projects[t].undertitle,projects[t].tags,projects[t].link,colorOfCard):1==t||3==t||5==t?addItem(projects[t].title,projects[t].undertitle,projects[t].tags,projects[t].link,colorOfCard)+"</div>":addItem(projects[t].title,projects[t].undertitle,projects[t].tags,projects[t].link,colorOfCard);insertProjects+="</div>";var worksPageColumns=document.querySelector(".works-page__columns");worksPageColumns.innerHTML=insertProjects;var iconMenu=document.querySelector(".icon-menu"),menuBody=document.querySelector(".menu__body"),mLink=document.querySelectorAll(".menu__link"),body=document.querySelector("body");iconMenu.addEventListener("click",(function(){iconMenu.classList.toggle("active"),menuBody.classList.toggle("active"),parseInt(window.innerWidth)<992&&body.classList.toggle("lock")}));for(var k=0;k<mLink.length;k++)mLink[k].addEventListener("click",(function(){iconMenu.classList.remove("active"),menuBody.classList.remove("active"),body.classList.remove("lock")}));!function(){let t=[],e=document.querySelectorAll("[data-da]"),o=[],n=[];if(e.length>0){let a=0;for(let n=0;n<e.length;n++){const i=e[n],l=i.getAttribute("data-da");if(""!=l){const e=l.split(","),n=e[1]?e[1].trim():"last",c=e[2]?e[2].trim():"767",d="min"===e[3]?e[3].trim():"max",u=document.querySelector("."+e[0].trim());e.length>0&&u&&(i.setAttribute("data-da-index",a),t[a]={parent:i.parentNode,index:(s=i,r=void 0,r=Array.prototype.slice.call(s.parentNode.children),r.indexOf(s))},o[a]={element:i,destination:document.querySelector("."+e[0].trim()),place:n,breakpoint:c,type:d},a++)}}(i=o).sort((function(t,e){return t.breakpoint>e.breakpoint?-1:1})),i.sort((function(t,e){return t.place>e.place?1:-1}));for(let t=0;t<o.length;t++){const e=o[t],i=e.breakpoint,s=e.type;n.push(window.matchMedia("("+s+"-width: "+i+"px)")),n[t].addListener(l)}}var i,s,r;function l(t){for(let t=0;t<o.length;t++){const e=o[t],i=e.element,s=e.destination,r=e.place,l="_dynamic_adapt_"+e.breakpoint;if(n[t].matches){if(!i.classList.contains(l)){let t=c(s)[r];"first"===r?t=c(s)[0]:"last"===r&&(t=c(s)[c(s).length]),s.insertBefore(i,s.children[t]),i.classList.add(l)}}else i.classList.contains(l)&&(a(i),i.classList.remove(l))}}function a(e){const o=e.getAttribute("data-da-index"),n=t[o],i=n.parent,s=n.index,r=c(i,!0)[s];i.insertBefore(e,i.children[r])}function c(t,e){const o=t.children,n=[];for(let t=0;t<o.length;t++){const i=o[t];(e||null==i.getAttribute("data-da"))&&n.push(t)}return n}l()}();let _slideUp=(t,e=500)=>{t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=t.offsetHeight+"px",t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout(()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},_slideDown=(t,e=500)=>{t.style.removeProperty("display");let o=window.getComputedStyle(t).display;"none"===o&&(o="block"),t.style.display=o;let n=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=n+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout(()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide")},e)},_slideToggle=(t,e=500)=>{if(!t.classList.contains("_slide"))return t.classList.add("_slide"),"none"===window.getComputedStyle(t).display?_slideDown(t,e):_slideUp(t,e)};const animItems=document.querySelectorAll("._anim-items");if(animItems.length>0){function animScroll(){for(let t=0;t<animItems.length;t++){const e=animItems[t],o=e.offsetHeight,n=offset(e).top,i=4;let s=window.innerHeight-o/i;o>window.innerHeight&&(s=window.innerHeight-window.innerHeight/i),pageYOffset>n-s&&pageYOffset<n+o?e.classList.add("_active"):e.classList.contains("_anim-no-hide")||e.classList.remove("_active")}}function offset(t){const e=t.getBoundingClientRect(),o=(window.pageXOffset||document.documentElement.scrollLeft,window.pageYOffset||document.documentElement.scrollTop);return{top:e.top+o,left:e.left+screenLeft}}window.addEventListener("scroll",animScroll),setTimeout(()=>{animScroll()},400)}var TxtType=function(t,e,o){this.toRotate=e,this.el=t,this.loopNum=0,this.period=parseInt(o,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};TxtType.prototype.tick=function(){var t=this.loopNum%this.toRotate.length,e=this.toRotate[t];this.isDeleting?this.txt=e.substring(0,this.txt.length-1):this.txt=e.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var o=this,n=200-100*Math.random();this.isDeleting&&(n/=2),this.isDeleting||this.txt!==e?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,n=500):(n=this.period,this.isDeleting=!0),setTimeout((function(){o.tick()}),n)},window.onload=function(){for(var t=document.getElementsByClassName("typewrite"),e=0;e<t.length;e++){var o=t[e].getAttribute("data-type"),n=t[e].getAttribute("data-period");o&&new TxtType(t[e],JSON.parse(o),n)}var i=document.createElement("style");i.type="text/css",i.innerHTML=".typewrite > .wrap { border-right: 0.08em solid #000}",document.body.appendChild(i)};const popupLinks=document.querySelectorAll(".popup-link");body=document.querySelector("body");const lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let t=0;t<popupLinks.length;t++){const e=popupLinks[t];e.addEventListener("click",(function(t){const o=e.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),t.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let t=0;t<popupCloseIcon.length;t++){const e=popupCloseIcon[t];e.addEventListener("click",(function(t){popupClose(e.closest(".popup")),t.preventDefault()}))}function popupOpen(t){if(t&&unlock){const e=document.querySelector(".popup.open");e?popupClose(e,!1):bodyLock(),t.classList.add("open"),t.addEventListener("click",(function(t){t.target.closest(".popup__content")||popupClose(t.target.closest(".popup"))}))}}function popupClose(t,e=!0){unlock&&(t.classList.remove("open"),e&&bodyUnLock())}function bodyLock(){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight=t}body.style.paddingRight=t,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnLock(){setTimeout((function(){if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}document.addEventListener("keydown",(function(t){if(27===t.which){popupClose(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=this;e;){if(e.matches(t))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SmoothScroll=e()}(this,(function(){"use strict";var t={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},e=function(){var t={};return Array.prototype.forEach.call(arguments,(function(e){for(var o in e){if(!e.hasOwnProperty(o))return;t[o]=e[o]}})),t},o=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,o=String(t),n=o.length,i=-1,s="",r=o.charCodeAt(0);++i<n;){if(0===(e=o.charCodeAt(i)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");s+=e>=1&&e<=31||127==e||0===i&&e>=48&&e<=57||1===i&&e>=48&&e<=57&&45===r?"\\"+e.toString(16)+" ":e>=128||45===e||95===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122?o.charAt(i):"\\"+o.charAt(i)}return"#"+s},n=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},i=function(t,e,o){0===t&&document.body.focus(),o||(t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),window.scrollTo(0,e))},s=function(t,e,o,n){if(e.emitEvents&&"function"==typeof window.CustomEvent){var i=new CustomEvent(t,{bubbles:!0,detail:{anchor:o,toggle:n}});document.dispatchEvent(i)}};return function(r,l){var a,c,d,u,p={cancelScroll:function(t){cancelAnimationFrame(u),u=null,t||s("scrollCancel",a)}};p.animateScroll=function(o,r,l){p.cancelScroll();var c=e(a||t,l||{}),m="[object Number]"===Object.prototype.toString.call(o),f=m||!o.tagName?null:o;if(m||f){var h=window.pageYOffset;c.header&&!d&&(d=document.querySelector(c.header));var g,y,v,w=function(t){return t?(e=t,parseInt(window.getComputedStyle(e).height,10)+t.offsetTop):0;var e}(d),b=m?o:function(t,e,o,i){var s=0;if(t.offsetParent)do{s+=t.offsetTop,t=t.offsetParent}while(t);return s=Math.max(s-e-o,0),i&&(s=Math.min(s,n()-window.innerHeight)),s}(f,w,parseInt("function"==typeof c.offset?c.offset(o,r):c.offset,10),c.clip),k=b-h,S=n(),L=0,_=function(t,e){var o=e.speedAsDuration?e.speed:Math.abs(t/1e3*e.speed);return e.durationMax&&o>e.durationMax?e.durationMax:e.durationMin&&o<e.durationMin?e.durationMin:parseInt(o,10)}(k,c),E=function(t){g||(g=t),L+=t-g,v=h+k*function(t,e){var o;return"easeInQuad"===t.easing&&(o=e*e),"easeOutQuad"===t.easing&&(o=e*(2-e)),"easeInOutQuad"===t.easing&&(o=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t.easing&&(o=e*e*e),"easeOutCubic"===t.easing&&(o=--e*e*e+1),"easeInOutCubic"===t.easing&&(o=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t.easing&&(o=e*e*e*e),"easeOutQuart"===t.easing&&(o=1- --e*e*e*e),"easeInOutQuart"===t.easing&&(o=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t.easing&&(o=e*e*e*e*e),"easeOutQuint"===t.easing&&(o=1+--e*e*e*e*e),"easeInOutQuint"===t.easing&&(o=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),t.customEasing&&(o=t.customEasing(e)),o||e}(c,y=(y=0===_?0:L/_)>1?1:y),window.scrollTo(0,Math.floor(v)),function(t,e){var n=window.pageYOffset;if(t==e||n==e||(h<e&&window.innerHeight+n)>=S)return p.cancelScroll(!0),i(o,e,m),s("scrollStop",c,o,r),g=null,u=null,!0}(v,b)||(u=window.requestAnimationFrame(E),g=t)};0===window.pageYOffset&&window.scrollTo(0,0),function(t,e,o){e||history.pushState&&o.updateURL&&history.pushState({smoothScroll:JSON.stringify(o),anchor:t.id},document.title,t===document.documentElement?"#top":"#"+t.id)}(o,m,c),"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches?i(o,Math.floor(b),!1):(s("scrollStart",c,o,r),p.cancelScroll(!0),window.requestAnimationFrame(E))}};var m=function(t){if(!t.defaultPrevented&&!(0!==t.button||t.metaKey||t.ctrlKey||t.shiftKey)&&"closest"in t.target&&(c=t.target.closest(r))&&"a"===c.tagName.toLowerCase()&&!t.target.closest(a.ignore)&&c.hostname===window.location.hostname&&c.pathname===window.location.pathname&&/#/.test(c.href)){var e,n;try{e=o(decodeURIComponent(c.hash))}catch(t){e=o(c.hash)}if("#"===e){if(!a.topOnEmptyHash)return;n=document.documentElement}else n=document.querySelector(e);(n=n||"#top"!==e?n:document.documentElement)&&(t.preventDefault(),function(t){if(history.replaceState&&t.updateURL&&!history.state){var e=window.location.hash;e=e||"",history.replaceState({smoothScroll:JSON.stringify(t),anchor:e||window.pageYOffset},document.title,e||window.location.href)}}(a),p.animateScroll(n,c))}},f=function(){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(a)){var t=history.state.anchor;"string"==typeof t&&t&&!(t=document.querySelector(o(history.state.anchor)))||p.animateScroll(t,null,{updateURL:!1})}};return p.destroy=function(){a&&(document.removeEventListener("click",m,!1),window.removeEventListener("popstate",f,!1),p.cancelScroll(),a=null,c=null,d=null,u=null)},function(){if(!("querySelector"in document&&"addEventListener"in window&&"requestAnimationFrame"in window&&"closest"in window.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";p.destroy(),a=e(t,l||{}),d=a.header?document.querySelector(a.header):null,document.addEventListener("click",m,!1),a.updateURL&&a.popstate&&window.addEventListener("popstate",f,!1)}(),p}}));for(var scroll=new SmoothScroll('a[href*="#"]'),flip=document.querySelectorAll(".flip"),i=0;i<flip.length;i++)flip[i].addEventListener("mousedown",drag);function drag(t){t.preventDefault();var e=this,o={x:t.clientX,y:t.clientY},n=!1;function i(t){t.preventDefault(),n=!0;var i=o.x-t.clientX,s=o.y-t.clientY;o={x:t.clientX,y:t.clientY},""===e.style.top?(e.style.top=s+"px",e.style.left=i+"px"):(e.style.top=parseInt(e.style.top.slice(0,-2))-s+"px",e.style.left=parseInt(e.style.left.slice(0,-2))-i+"px")}document.addEventListener("mousemove",i),document.addEventListener("mouseup",(function t(o){if(o.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",t),!n){var s=e.querySelector(".flip__body");s.classList.contains("rotate")?s.classList.remove("rotate"):s.classList.add("rotate")}}))}